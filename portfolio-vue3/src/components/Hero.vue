<script setup>
import { ref, onMounted } from 'vue';
import '/src/assets/styles/hero.css';

const text = ref(""); // íƒ€ì´í•‘ë  í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
const fullText = "Hello! I'm Yujin, a developer! ğŸ’­"; // íƒ€ì´í•‘ë  ì „ì²´ ë¬¸ì¥
let index = 0;
const isTypingDone = ref(false); // íƒ€ì´í•‘ì´ ëë‚¬ëŠ”ì§€ ì—¬ë¶€

// ğŸ€ íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ (ì»¤ì„œê°€ í•­ìƒ ë§ˆì§€ë§‰ ê¸€ì ë’¤ì— ìœ„ì¹˜)
const typeEffect = () => {
  if (index < fullText.length) {
    text.value = fullText.substring(0, index) + "<span class='cursor'>|</span>"; // ì»¤ì„œë¥¼ ëì— ì¶”ê°€
    index++;
    setTimeout(typeEffect, 100); // 100ms ê°„ê²©ìœ¼ë¡œ ê¸€ì ì¶œë ¥
  } else {
    // íƒ€ì´í•‘ì´ ëë‚œ í›„ ì»¤ì„œë§Œ ìœ ì§€
    isTypingDone.value = true;
    text.value = fullText + "<span class='cursor'>|</span>";
  }
};

// ğŸ€ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ í´ë˜ìŠ¤ ì¶”ê°€ (ë¶€ë“œëŸ¬ìš´ ë“±ì¥ & í”ë“¤ë¦¬ëŠ” íš¨ê³¼)
const applyAnimation = () => {
  const text1 = document.getElementById("animatedText");
  const text2 = document.getElementById("animatedText2");

  if (text1) text1.classList.add("cute-animation"); // ì• ë‹ˆë©”ì´ì…˜ ì ìš©
  if (text2) text2.classList.add("cute-animation");
};

// ğŸ€ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰ (íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ + í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜)
onMounted(() => {
  setTimeout(typeEffect, 2500); // 2.5ì´ˆ í›„ íƒ€ì´í•‘ ì‹œì‘

  setTimeout(() => {
    applyAnimation(); // 3ì´ˆ í›„ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
  }, 3000);
});
</script>

<template>
  <section id="hero" class="hero">
    <!-- ğŸ ë°°ê²½ ì´ë¯¸ì§€ -->
    <div class="umme"></div>

    <!-- â˜ï¸ êµ¬ë¦„ ì• ë‹ˆë©”ì´ì…˜ -->
    <div class="cloud cloud1"></div>
    <div class="cloud cloud2"></div>

    <div class="hero-content">
      <!-- âœ¨ íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ + ë¶€ë“œëŸ¬ìš´ ë“±ì¥ í…ìŠ¤íŠ¸ -->
      <div class="text">
        <h1 class="typing" v-html="text"></h1>
        <p id="animatedText" class="animation-text">I'm a front-end developer who loves cute and charming designs! (oï¾Ÿvï¾Ÿ)ãƒ</p>
        <p id="animatedText2" class="animation-text">I strive to create UI/UX that gives users a comfortable and enjoyable experience! ::&gt;_&lt;::</p>
      </div>

      <!-- ğŸ› ï¸ í”„ë¡œì íŠ¸ & ìŠ¤í‚¬ ë³´ê¸° ë²„íŠ¼ -->
      <div class="buttons">
        <a href="#projects" class="btn primary">ğŸ¨ View Projects</a>
        <a href="#skills" class="btn secondary">ğŸ§ View Skills</a>
      </div>

      <!-- ğŸ ê·€ì—¬ìš´ ìºë¦­í„° ì´ë¯¸ì§€ -->
      <div class="character">
        <img src="/src/assets/umme1.png" alt="ê·€ì—¬ìš´ ìºë¦­í„°" />
      </div>
    </div>
  </section>
</template>
